<link href="../../../polymer/polymer-element.html" rel="import">
<link href="../../../vaadin-themable-mixin/vaadin-themable-mixin.html" rel="import">
<link href="../../../vaadin-element-mixin/vaadin-element-mixin.html" rel="import">
<link href="../components/color-picker-element-carousel.html" rel="import">
<link href="color-picker-color-palette.html" rel="import">
<link href="../utils/vaadin-disabled-property-mixin.html" rel="import"/>
<link href="../utils/color-picker-has-color-value-mixin.html" rel="import"/>
<link href="../libraries/chroma-js-import.html" rel="import"/>

<dom-module id="color-picker-palette">
  <template>
    <style>
      :host {
        --switch-button-alignment: flex-start;
      }
    </style>

    <element-carousel disabled$="[[disabled]]"
                      pinned="{{pinned}}"
                      theme$="[[theme]]">
      <dom-repeat as="palette" disable-for-switch items="{{palettes}}">
        <template>
          <color-palette disabled$="[[disabled]]"
                         palette="{{palette}}"
                         theme$="[[theme]]"
                         value="{{value}}"></color-palette>
        </template>
      </dom-repeat>
    </element-carousel>
  </template>
  <script>
    (function() {

      /**
       * `<color-picker-palette>` shows a set color palettes from which a color can be selected.
       *
       * @memberof Vaadin.ColorPicker
       * @mixes Vaadin.ElementMixin
       * @mixes Vaadin.ThemableMixin
       * @mixes Vaadin.DisabledPropertyMixin
       * @mixes Vaadin.ColorPicker.HasColorValueMixin
       */
      class ColorPickerPaletteElement extends Vaadin.ElementMixin(Vaadin.ThemableMixin(
        Vaadin.DisabledPropertyMixin(Vaadin.ColorPicker.HasColorValueMixin(Polymer.Element)))) {

        static get is() {
          return 'color-picker-palette';
        }

        static get version() {
          return '0.7.4';
        }

        static get properties() {
          return {
            /**
             * The palettes to show whereas each palette should be an array of
             * [chroma.js](https://github.com/gka/chroma.js/|chroma.js) chroma objects.
             */
            palettes: {
              type: Array,
              notify: true
            },
            /**
             * Pin all palettes visible or show them in a carousel.
             */
            pinned: {
              type: Boolean,
              value: false,
              notify: true
            }
          };
        }
      }

      customElements.define(ColorPickerPaletteElement.is, ColorPickerPaletteElement);

      /**
       * @namespace Vaadin.ColorPicker
       */
      window.Vaadin = window.Vaadin || {};
      window.Vaadin.ColorPicker = window.Vaadin.ColorPicker || {};
      window.Vaadin.ColorPicker.ColorPickerPaletteElement = ColorPickerPaletteElement;
    })();
  </script>
</dom-module>
